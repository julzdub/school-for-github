
Template to hold testing code for cs 350 

a1) oval layout

USE r1 AS REFERENCE 46*40'58"/117*19'21"

CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -50:0 END 50:0;CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1

CREATE TRACK LAYOUT oval WITH TRACKS track1 track2 track3 track4

COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

---------------------------------------------------------------------------

a2) oval layout with passing loop

USE r1 AS REFERENCE 46*40'58"/117*19'21"

CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;
CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;
CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1;
CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -40:0 END 40:0;
CREATE TRACK SWITCH TURNOUT switchTurnout1 REFERENCE $r1 STRAIGHT DELTA START -50:0 END -40:0 CURVE DELTA START -45:0 END -40:10 DISTANCE ORIGIN 1;
CREATE TRACK SWITCH TURNOUT switchTurnout2 REFERENCE $r1 STRAIGHT DELTA START 40:0 END 50:0 CURVE DELTA START 40:10 END 45:0 DISTANCE ORIGIN 1;
CREATE TRACK STRAIGHT straightPassing REFERENCE $r1 DELTA START -40:10 END 40:10;

CREATE TRACK LAYOUT ovalWithPassingLoop WITH TRACKS track1 track2 track3 track4 switchTurnout1 switchTurnout2 straightPassing

COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

----------------------------------------------------------------------------

a3) oval layout with dead-end siding (NOT CURRENTLY ACCURATE)

USE r1 AS REFERENCE 46*40'58"/117*19'21"

CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1;CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -40:0 END 50:0;CREATE TRACK SWITCH TURNOUT switchTurnout1 REFERENCE $r1 STRAIGHT DELTA START -50:0 END -40:0 CURVE DELTA START -45:0 END -40:10 DISTANCE ORIGIN 1;

CREATE TRACK END deadEnd REFERENCE $r1 DELTA START -40:10 END -20:10;

CREATE TRACK LAYOUT ovalWithDeadEndSiding WITH TRACKS track1 track2 track3 track4 switchTurnout1 deadEnd

COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

----------------------------------------------------------------------------

a4) oval layout with roundhouse siding

USE r1 AS REFERENCE 46*40'58"/117*19'21"

CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1;CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -40:0 END 50:0;CREATE TRACK SWITCH TURNOUT switchTurnout1 REFERENCE $r1 STRAIGHT DELTA START -50:0 END -40:0 CURVE DELTA START -45:0 END -40:10 DISTANCE ORIGIN 1;

CREATE TRACK STRAIGHT track5 REFERENCE $r1 DELTA START -40:10 END -30:10;

CREATE TRACK ROUNDHOUSE roundhouse1 REFERENCE $r1 DELTA ORIGIN -30:10 ANGLE ENTRY 90.0 START 0.0 END 90.0 WITH 3 SPURS LENGTH 10 TURNTABLE LENGTH 10;

CREATE TRACK LAYOUT ovalWithRoundhouse WITH TRACKS track1 track2 track3 track4 track5 switchTurnout1 roundhouse1;

COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600


----------------------------------------------------------------------------

b1) power network with one power station connected to two substations, the second of which supplies a catenary of at least four poles. 

USE r1 AS REFERENCE 46*40'58"/117*19'21"

CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1;CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -50:0 END 50:0;CREATE POWER POLE pole1 ON TRACK track1 DISTANCE 10 FROM START;CREATE POWER POLE pole2 ON TRACK track1 DISTANCE 20 FROM START;CREATE POWER POLE pole3 ON TRACK track1 DISTANCE 30 FROM START;CREATE POWER POLE pole4 ON TRACK track1 DISTANCE 40 FROM START;CREATE POWER POLE pole5 ON TRACK track3 DISTANCE 10 FROM END;CREATE POWER POLE pole6 ON TRACK track3 DISTANCE 20 FROM END;CREATE POWER CATENARY catenary1 WITH POLES pole1 pole2 pole3 pole4;CREATE POWER CATENARY catenary2 WITH POLES pole5 pole6;CREATE POWER SUBSTATION substation1 REFERENCE $r1 DELTA -25:25 WITH CATENARIES catenary1;CREATE POWER SUBSTATION substation2 REFERENCE $r1 DELTA 25:25 WITH CATENARIES catenary2;CREATE POWER STATION powerStation1 REFERENCE $r1 DELTA 0:25 WITH SUBSTATIONS substation1 substation2;



CREATE TRACK LAYOUT ovalWithPowerStation WITH TRACKS track1 track2 track3 track4;

COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

----------------------------------------------------------------------------

b2) demonstrate that the stop, caution, and proceed states of a semaphore work. train's response.

USE r1 AS REFERENCE 46*40'58"/117*19'21";
CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -50:0 END 50:0;CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1;CREATE TRACK LAYOUT oval WITH TRACKS track1 track2 track3 track4;

CREATE ACTUATOR semaphore1 AS SEMAPHORE ON TRACK track1 DISTANCE 25 FROM START TOWARD START;



COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

DO SET SEMAPHORE semaphore1 STOP;@WAIT 10;DO SET SEMAPHORE semaphore1 CAUTION;@WAIT 10;DO SET SEMAPHORE semaphore1 PROCEED;

----------------------------------------------------------------------------


b3) demonstrate that the stop and proceed states of a signal light work.

USE r1 AS REFERENCE 46*40'58"/117*19'21";
CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START -50:50 END 50:50;CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -50:0 END 50:0;CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START 50:50 END 50:0 DISTANCE ORIGIN 1;CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START -50:0 END -50:50 DISTANCE ORIGIN 1;CREATE TRACK LAYOUT oval WITH TRACKS track1 track2 track3 track4;

CREATE ACTUATOR signalLight1 AS SIGNAL LIGHT ON TRACK track1 DISTANCE 25 FROM START TOWARD START;



COMMIT

OPEN VIEW myview ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

DO SET SIGNAL LIGHT signalLight1 STOP;@WAIT 10;DO SET SIGNAL LIGHT signalLight1 PROCEED;








